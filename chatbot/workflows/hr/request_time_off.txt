Workflow: request_time_off
Description: Submit time-off requests with automatic balance checking and approval routing
Access: employee
Category: hr

Inputs:
- start_date (string): First day of time off (YYYY-MM-DD)
- end_date (string): Last day of time off (YYYY-MM-DD)
- time_off_type (string): Type of leave (vacation, sick, personal, bereavement, jury_duty, maternity, paternity)
- half_day_start (boolean): Whether first day is half day
- half_day_end (boolean): Whether last day is half day
- reason (string): Reason for time off (optional for vacation)
- coverage_plan (string): Who will cover responsibilities during absence
- contact_during_leave (boolean): Whether employee can be contacted
- employee_id (string): Employee requesting time off (needed for balance/approvals)

Steps:
1. Calculate total days requested accounting for half days
2. Check employee's available balance for time_off_type (pass employee_id and days_requested = total_days.total_days)
3. If insufficient balance (compare total_days.total_days to leave_balance.balance), offer option to take unpaid leave
4. Check for team conflicts and overlapping requests
5. Verify no critical deadlines during requested period
6. If time_off_type is sick and total_days.total_days > 3, flag for medical documentation
7. If time_off_type is bereavement, auto-approve and send condolences
8. Route for approval using the leave-approval tool (route_leave_approval) with days_requested = total_days.total_days and leave_type = time_off_type:
   - If days_requested <= 2: Direct manager
   - If days_requested between 3 and 5: Department head
   - If days_requested >= 6: Department head + HR
9. Update team calendar with approved time off (call update_team_calendar with leave_type = time_off_type)
10. Send confirmation email with coverage arrangements (call send_confirmation_email with employee_id, request_type = 'time_off', status = approval_status)
   (call send_confirmation_email with employee_id and request_type='time_off')

Outputs:
- request_id (string): Unique time-off request identifier
- approval_status (string): Status (approved, pending, denied)
- days_requested (float): Total days including half days
- remaining_balance (float): Balance after approval
- approver (string): Name of approving manager
- coverage_confirmed (boolean): Whether coverage plan is confirmed
