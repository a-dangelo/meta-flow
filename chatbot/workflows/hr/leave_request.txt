Workflow: leave_request
Description: Submit time-off requests with automatic manager approval routing and calendar integration
Access: employee
Category: hr

Inputs:
- start_date (string): Leave start date in YYYY-MM-DD format
- end_date (string): Leave end date in YYYY-MM-DD format
- leave_type (string): Type of leave (vacation, sick, personal, parental, other)
- reason (string): Brief reason for leave request
- employee_id (string): Employee identifier
- manager_email (string): Direct manager email address

Steps:
1. Validate dates are in the future and end_date is after start_date
2. Calculate total number of leave days
3. Check employee leave balance for requested leave type
4. If insufficient balance, reject request and notify employee
5. Check team calendar for conflicts with other team members
6. Send approval request to manager via email
7. Wait for manager approval or rejection
8. If approved, update employee leave balance
9. If approved, add leave to team calendar and block employee calendar
10. Send confirmation email to employee with leave details
11. Send notification to HR system for payroll processing

Outputs:
- request_status (string): Status of leave request (pending, approved, rejected)
- request_id (string): Unique identifier for leave request
- remaining_balance (float): Remaining leave balance after approval
